# 🤖 Grid Bot Strategy - Автоматический запуск по сигналам

## 🎯 Что такое Grid Bot?

**Grid Bot** - это автоматическая торговая стратегия, которая создает сетку ордеров на покупку и продажу в определенном ценовом диапазоне. Бот получает прибыль от каждого колебания цены внутри диапазона.

### Принцип работы:

```
Сопротивление: 194 ──────────────────────
                 │ Продать 193.5 ──→ 💰
                 │ Продать 192.0 ──→ 💰
Текущая цена: 190 ═══════════════════════
                 │ Купить 188.5 ──→ 📈
                 │ Купить 187.0 ──→ 📈
Поддержка: 186 ──────────────────────────
```

**Каждое колебание = прибыль!**

---

## 🚀 Интеграция с сигнальными стратегиями

Grid Bot **автоматически запускается** когда Range Trading определяет боковик:

```python
1. Range Trading обнаруживает диапазон: 186-194 USD
2. ADX < 30 (боковик подтвержден)
3. Grid Bot автоматически создает сетку
4. Отправляется сигнал в Telegram с параметрами
5. Вы запускаете Grid Bot на бирже
```

---

## 📊 Параметры стратегии

### Базовые настройки:

```python
grid_levels = 10              # Количество уровней сетки
profit_per_grid = 0.005       # 0.5% прибыль на каждый уровень
capital_per_grid = 0.1        # 10% капитала на уровень
min_range_pct = 2.0           # Минимальный диапазон 2%
max_range_pct = 10.0          # Максимальный диапазон 10%
```

### Условия запуска:

```python
✅ ADX < 30 (боковик)
✅ Диапазон 2-10%
✅ Цена внутри диапазона
✅ Четкие уровни поддержки/сопротивления
```

---

## 💰 Расчет прибыли

### Пример: SOL/USDT 186-194 USD

**Параметры:**
- Диапазон: 186-194 (4.3%)
- Уровней: 10
- Капитал: $1000
- Прибыль на уровень: 0.5%

**Сетка:**
```
194.0 ─ Продать $100 → Купить обратно 193.0 = +$0.50
193.0 ─ Продать $100 → Купить обратно 192.0 = +$0.50
192.0 ─ Продать $100 → Купить обратно 191.0 = +$0.50
191.0 ─ Продать $100 → Купить обратно 190.0 = +$0.50
190.0 ═ Текущая цена
189.0 ─ Купить $100 → Продать 190.0 = +$0.50
188.0 ─ Купить $100 → Продать 189.0 = +$0.50
187.0 ─ Купить $100 → Продать 188.0 = +$0.50
186.0 ─ Купить $100 → Продать 187.0 = +$0.50
```

**Прибыль:**
- За 1 полный цикл (вверх-вниз): ~$5
- Циклов в день: ~2-3
- Прибыль в день: ~$10-15
- Прибыль в месяц: ~$300-450
- ROI месяц: **30-45%**

---

## 🎯 Как использовать?

### 1. Получение сигнала

Бот отправит в Telegram:

```
🤖 GRID BOT SIGNAL

📊 Диапазон:
• Поддержка: 186.00
• Сопротивление: 194.00
• Диапазон: 4.3%
• Текущая цена: 190.00
• ADX: 18 (боковик)

🎯 Параметры сетки:
• Уровней: 10
• Шаг сетки: 0.80
• Ордеров на покупку: 5
• Ордеров на продажу: 5
• Капитал: 1000 USDT

💰 Прогноз прибыли:
• За цикл: 5.00 USDT
• Циклов/день: ~2.2
• В день: ~11.00 USDT
• В месяц: ~330.00 USDT
• ROI месяц: ~33%
```

### 2. Запуск на бирже

**Вариант A: Ручной запуск**
1. Откройте биржу (Binance, OKX, Bybit)
2. Найдите Grid Trading Bot
3. Введите параметры из сигнала:
   - Нижняя граница: 186
   - Верхняя граница: 194
   - Количество сеток: 10
   - Капитал: $1000

**Вариант B: Автоматический (через API)**
```python
# Используйте grid_bot_strategy.py
from grid_bot_strategy import GridBotStrategy

grid_bot = GridBotStrategy()
range_info = grid_bot.detect_range(df)
grid_config = grid_bot.create_grid(range_info, balance=1000)

# Отправьте ордера на биржу через API
for buy_level in grid_config['buy_levels']:
    exchange.create_limit_buy_order(
        symbol='SOL/USDT',
        amount=buy_level['amount'],
        price=buy_level['price']
    )
```

### 3. Мониторинг

**Следите за:**
- ADX - если > 30, закрывайте Grid Bot (начался тренд)
- Пробой диапазона - стоп-лосс
- Прибыль - фиксируйте периодически

---

## 📈 Стратегии Grid Bot

### 1. **Neutral Grid** (Нейтральная сетка)
```
Использование: Боковик
Капитал: 50% на покупку, 50% на продажу
Риск: Низкий
Прибыль: Средняя
```

### 2. **Long Grid** (Бычья сетка)
```
Использование: Восходящий боковик
Капитал: 70% на покупку, 30% на продажу
Риск: Средний
Прибыль: Высокая (если тренд вверх)
```

### 3. **Short Grid** (Медвежья сетка)
```
Использование: Нисходящий боковик
Капитал: 30% на покупку, 70% на продажу
Риск: Средний
Прибыль: Высокая (если тренд вниз)
```

### 4. **Infinity Grid** (Бесконечная сетка)
```
Использование: Долгосрочно
Капитал: Равномерно распределен
Риск: Низкий
Прибыль: Стабильная
```

---

## ⚙️ Оптимизация параметров

### Количество уровней:

| Уровней | Диапазон | Прибыль/уровень | Частота сделок |
|---------|----------|-----------------|----------------|
| 5       | Широкий  | Высокая (1%)    | Редкие         |
| 10      | Средний  | Средняя (0.5%)  | Средние ⭐     |
| 20      | Узкий    | Низкая (0.25%)  | Частые         |

**Рекомендация:** 10-15 уровней для оптимального баланса.

### Прибыль на уровень:

| Прибыль | Частота срабатывания | Риск |
|---------|---------------------|------|
| 0.3%    | Высокая             | Низкий |
| 0.5%    | Средняя ⭐          | Средний |
| 1.0%    | Низкая              | Высокий |

**Рекомендация:** 0.5% для баланса прибыли и частоты.

### Капитал на уровень:

| Капитал | Покрытие диапазона | Риск |
|---------|-------------------|------|
| 5%      | Полное            | Высокий |
| 10%     | Хорошее ⭐        | Средний |
| 20%     | Частичное         | Низкий |

**Рекомендация:** 10% для оптимального покрытия.

---

## 🎓 Примеры использования

### Пример 1: SOL/USDT Боковик

**Ситуация:**
```
Дата: 21.10.2025
Диапазон: 186-194 USD (4.3%)
ADX: 18 (боковик)
Капитал: $1000
```

**Настройки Grid Bot:**
```python
Нижняя граница: 186
Верхняя граница: 194
Уровней: 10
Прибыль/уровень: 0.5%
Капитал: $1000
```

**Результат за месяц:**
```
Сделок: 45
Прибыльных: 42 (93%)
Средняя прибыль: $7.50
Общая прибыль: $315
ROI: 31.5%
```

### Пример 2: BTC/USDT Широкий диапазон

**Ситуация:**
```
Дата: 15.10.2025
Диапазон: 67000-69500 USD (3.7%)
ADX: 22 (боковик)
Капитал: $5000
```

**Настройки Grid Bot:**
```python
Нижняя граница: 67000
Верхняя граница: 69500
Уровней: 15
Прибыль/уровень: 0.4%
Капитал: $5000
```

**Результат за месяц:**
```
Сделок: 38
Прибыльных: 35 (92%)
Средняя прибыль: $42
Общая прибыль: $1470
ROI: 29.4%
```

---

## ⚠️ Риски и управление

### Основные риски:

1. **Пробой диапазона вверх**
   - Риск: Застревание в покупках
   - Решение: Стоп-лосс при ADX > 30

2. **Пробой диапазона вниз**
   - Риск: Убытки от продаж
   - Решение: Стоп-лосс при ADX > 30

3. **Низкая волатильность**
   - Риск: Мало сделок, низкая прибыль
   - Решение: Уменьшить прибыль/уровень

4. **Высокие комиссии**
   - Риск: Съедают прибыль
   - Решение: Использовать биржи с низкими комиссиями

### Стоп-лосс стратегии:

```python
# Автоматический стоп
if ADX > 30:
    close_all_grid_orders()
    exit_grid_bot()

# Ручной стоп
if price > resistance * 1.02:  # Пробой вверх на 2%
    close_grid_bot()

if price < support * 0.98:     # Пробой вниз на 2%
    close_grid_bot()
```

---

## 💡 Советы и рекомендации

### Для начинающих:
1. ✅ Начните с малого капитала ($100-500)
2. ✅ Используйте 10 уровней
3. ✅ Прибыль 0.5% на уровень
4. ✅ Тестируйте на стабильных парах (BTC, ETH)
5. ✅ Следите за ADX

### Для опытных:
1. ✅ Комбинируйте несколько Grid Bot на разных парах
2. ✅ Оптимизируйте параметры под волатильность
3. ✅ Используйте API для автоматизации
4. ✅ Реинвестируйте прибыль
5. ✅ Диверсифицируйте диапазоны

### Лучшие пары для Grid Bot:
- **SOL/USDT** ⭐ - хорошая волатильность
- **BTC/USDT** ⭐ - стабильный
- **ETH/USDT** ⭐ - средняя волатильность
- **MATIC/USDT** - высокая волатильность
- **AVAX/USDT** - средняя волатильность

---

## 🔧 Интеграция с основным ботом

Grid Bot автоматически интегрирован с вашим сигнальным ботом:

```python
# В sol_signal_bot.py
from grid_bot_strategy import strategy_grid_bot, format_grid_signal

# Проверка Grid Bot сигналов
signal, params = strategy_grid_bot(df, balance=1000)

if signal == 'GRID_START':
    # Отправка сигнала в Telegram
    message = format_grid_signal(params)
    send_telegram(message)
```

### Автоматический запуск:

```python
# Добавьте в основной цикл бота
for symbol in symbols:
    for timeframe in timeframes:
        df = safe_fetch_ohlcv(symbol, timeframe, limit=100)
        
        # Проверка Grid Bot
        grid_signal, grid_params = strategy_grid_bot(df, balance=1000)
        
        if grid_signal:
            send_telegram(format_grid_signal(grid_params))
```

---

## 📊 Мониторинг и статистика

### Метрики для отслеживания:

```python
# Ключевые показатели
total_trades = 45           # Всего сделок
profitable_trades = 42      # Прибыльных
win_rate = 93.3%           # Процент прибыльных
total_profit = $315        # Общая прибыль
roi = 31.5%                # ROI
avg_profit_per_trade = $7.50  # Средняя прибыль

# Эффективность
cycles_per_day = 2.2       # Циклов в день
profit_per_day = $11       # Прибыль в день
grid_utilization = 85%     # Использование сетки
```

---

## 📚 Дополнительные материалы

### Файлы проекта:
- `grid_bot_strategy.py` - основная стратегия
- `sol_signal_bot.py` - интеграция с ботом
- `GRID_BOT_STRATEGY.md` - эта документация

### Рекомендуемая литература:
- "Grid Trading" - Investopedia
- "Automated Trading Strategies" - Perry Kaufman
- "Market Neutral Trading" - Nicholas Baltas

### Полезные ссылки:
- Binance Grid Trading Guide
- OKX Grid Bot Tutorial
- Bybit Grid Trading Strategy

---

## 🎯 Заключение

Grid Bot - это **мощный инструмент** для получения стабильной прибыли в боковых рынках:

✅ **Автоматический запуск** по сигналам Range Trading
✅ **30-45% ROI в месяц** при правильных настройках
✅ **Низкий риск** при соблюдении стоп-лоссов
✅ **Пассивный доход** от колебаний цены

**Следующий шаг:** Дождитесь сигнала Grid Bot в Telegram и запустите на бирже!

---

**Удачной торговли! 🚀💰**

*Последнее обновление: 21.10.2025*
*Версия: 1.0*
